@import tools

$ctrlminwidth: 200px
$ctrlwidth: 27.78%

.section-prodmods

  > .section-background
    ._bgcol
      background-color: $co--blue--md

  > .container
    +cont--xl
    +block-pad

.main-prodmods
  display: flex
  flex-direction: column
  align-items: center

  > .list-screenshot
    order: 1
    flex: none
    width: 34%
    margin-top: ($pd--v / -1) - 1rem

  > .side-prodmods
    order: 2

  > .list-prodmod
    order: 3

.side-prodmods
  width: 100%
  margin-top: $pd--s

  > .title
    font-size: $fs--ml
    padding: $pd--m 0
    text-align: center
    word-wrap: break-word
    color: $co--bk

.main-ctrls
  display: flex
  align-items: center

  .control
    +input-reset

  > .control
    +focus
    display: flex
    align-items: center
    justify-content: center
    flex: none
    cursor: pointer
    background-color: $co--green

    &::after
      content: ' '
      display: block
      width: 0
      height: 0
      pointer-events: none
      border-top: 9px solid transparent
      border-bottom: 9px solid transparent

    &.-dec
      &::after
        border-right: 12px solid $co--wt
    &.-inc
      &::after
        border-left: 12px solid $co--wt

    &:active
      background-color: lighten($co--green, 10)

    span
      +sr-only

  > .container
    overflow: hidden
    flex: 1

.list-ctrls
  display: flex
  transition: transform $tr--m

  > .item
    flex: none
    width: 100%

  .control.-text
    +heading-spaced
    font-size: $fs--mms
    line-height: $lh--m
    position: relative
    z-index: $z--base
    display: block
    flex: none
    width: 100%
    height: 100%
    padding: 0 $pd--xxs
    text-align: center
    color: $co--blue-grey--tt
    background-color: transparent

    &.-active,
    &:focus
      color: $co--wt
      outline: none

      &::before
        transform: scale3d(1, 1, 1)

.list-prodmod
  display: flex
  overflow: hidden
  width: 100%
  padding-top: $pd--m

  > .item
    position: relative
    visibility: hidden
    flex: none
    width: 100%
    transition: transform $tr--m, opacity $tr--m, visibility $tr--m
    transform: translate3d(0, 0, 0)
    opacity: 0

    &.-active
      visibility: visible
      transform: translate3d(-100%, 0, 0)
      opacity: 1

.main-prodmod
  color: $co--wt

  > .title
    display: none

  > .wysiwyg
    font-family: inherit
    font-size: inherit
    line-height: $lh--xl

@media screen and (min-width: $bp--mn)
  .main-prodmods
    flex-direction: row

    > .side-prodmods
      order: 1

    > .list-screenshot
      order: 2

    > .list-prodmod
      order: 3

  .side-prodmods
    flex: 0 0 $ctrlwidth
    align-self: flex-start
    width: $ctrlwidth
    min-width: $ctrlminwidth
    margin-top: 0

    > .title
      padding-right: $pd--ml
      padding-left: $pd--m
      text-align: left

  .list-ctrls
    display: block
    overflow: auto
    width: auto
    transform: none!important

    .control.-text
      font-size: $fs--xs
      line-height: $lh--lg
      padding: 0.42rem $pd--xl 0.42rem $pd--m
      cursor: pointer
      text-align: left

      &::before
        +stretch
        content: ' '
        z-index: $z--under
        transition: transform $tr--f
        transform: scale3d(1, 0, 1)
        transform-origin: top
        background: linear-gradient(to right, transparentize($co--blue--dk, 0.6) 0%, transparentize($co--blue--dk, 1) 100%)

      &:hover
        color: $co--brightyellow

  .list-prodmod
    align-items: center
    padding-top: 0
    padding-left: $pd--ml

  .main-ctrls
    > .control
      display: none

  .main-prodmod
    > .title
      +header-default($pd--m)
      +heading-spaced
      display: block
